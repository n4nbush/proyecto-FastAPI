{% extends 'layout.html' %}

{%block titulo%}Registrar gasto{%endblock%}

{%  block body %}

    <h1>ðŸ’° Registrar Movimiento</h1>

    <form method="POST" action="/gastos/registrar">
        <div class="form-group">
            <label for="fecha_hora">Fecha y Hora:</label>
            <input type="datetime-local" id="fecha_hora" name="fecha_hora" value="{{ahora}}" required>
        </div>

        <div class="form-group">
            <label for="tipo">Tipo:</label>
            <select id="tipo" name="tipo" required>
                <option value="Gasto">Gasto</option>
                <option value="Ingreso">Ingreso</option>
                <option value="Tarjeta">Tarjeta</option>
            </select>
        </div>

        <div class="form-group">
            <label for="metodo_pago">Metodo de pago:</label>
            <select name="metodo_pago" id="meotod_pago" required>
                <option value="Debito" selected>Debito</option>
                <option value="Tarjeta">Tarjeta</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="cateogira">Motivo:</label>
            <select id="categoria" name="categoria" required>
                <option value="">Selecciona un motivo</option>
                {% for item in categorias%}
                <option value="{{item}}">{{item}}</option>
                {%endfor%}
            </select>
        </div>

        <div class="form-group">
            <label for="monto">Monto:</label>
            <input type="number" step="0.01" id="monto" name="monto" placeholder="0.00" required>
        </div>

        <div class="form-group">
            <label for="descripcion">DescripciÃ³n (opcional):</label>
            <textarea id="descripcion" name="descripcion" rows="3" placeholder="Detalles adicionales..."></textarea>
        </div>
        
        <button type="submit">ðŸ’¾ Guardar Movimiento</button>
    </form>

    <script>
        // Obtener fecha actual en formato ISO y cortar los segundos
        const ahora = new Date().toISOString().slice(0, 16);
        document.getElementById('fecha_hora').value = ahora;
    </script>
{%  endblock %}
